!function(t){var e=function(){this.Init.apply(this,arguments),this.settime,this.Render()};e.prototype={Init:function(){var t=Array.prototype.slice.call(arguments,0);if(t&&t.length>0){var e=t[0],n=Object.prototype.toString;e&&"[object Object]"==n.call(e)&&(this.config=e||{id:"",server:0,endtime:"",show:function(t,e,n,i,o,r){},over:function(t){}})}Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,i=function(){},o=function(){return n.apply(this instanceof i&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return i.prototype=this.prototype,o.prototype=new i,o})},Render:function(){var t=this,e=null,n=t.config,i=n.id,o=t.config.server;if(n){var r=document.getElementById(i),a=new Date(n.endtime).getTime();if(t.autoElement=r,o.toString()){var s=["http://www.zhongye.net/api/apiservice.aspx?method=Web.GetCurrTime&format=json","http://www.zhongye.net/api/apiservice.aspx?method=Web.GetCurrTimeObj&format=json"],c=null;switch(o){case 1:c=s[0];break;case 2:c=s[1]}if(1===o||2===o)t.util.get_js(c,function(n){if(1===o){var i=n;e=i.time}else if(2===o){var s=n.toString().replace(/\r\n/g," "),c=s.replace(/t0=new\sDate\(\)\.getTime\(\);\snyear=(\d*);\snmonth\=(\d*);\snday=(\d*);\snwday=(\d*);\snhrs=(\d*);\snmin=(\d*);\snsec=(\d*);/gi,"$1/$2/$3 $5:$6:$7");e=c}var l=new Date(e).getTime(),p=(new Date).getTime()-l;t.util.show_time(a,p,r,o,t.test.bind(t))});else if(0===o){var l=null;t.util.show_time(a,l,r,o,t.test.bind(t))}}}},test:function(t,e,n,i,o){i<0||0==i&&n<0?this.config.over(this.autoElement):(t=t<=9?"0"+t:t,e=e<=9?"0"+e:e,n=n<=9?"0"+n:n,i=i<=9?"0"+i:i,this.config.show(this.autoElement,t,e,n,i,o))},util:{show_time:function(t,e,n,i,o){var r,a,s,c,l,p,d=this,u=(new Date).getTime(),f=0===i?parseInt((t-u)/1e3):parseInt((t-u+e)/1e3);r=parseInt(f/3600/24),a=parseInt(f/3600%24),s=parseInt(f/60%60),c=parseInt(f%60),l=(new Date).getMilliseconds(),o.call(d,r,a,s,c,l),p=c<0||0==c&&s<0,d.settime=setTimeout(arguments.callee.bind(d,t,e,n,i,o),50),1==p&&clearTimeout(d.settime)},get_js:function(t,e){var n=null,i=document.getElementsByTagName("head")[0];n=document.createElement("script"),n.type="text/javascript",n.src=t;var o=navigator.appName,r=navigator.appVersion,a=r.split(";"),s=a[1]?a[1].replace(/[ ]/g,""):null;"Microsoft Internet Explorer"==o&&"MSIE6.0"==s||"Microsoft Internet Explorer"==o&&"MSIE7.0"==s||"Microsoft Internet Explorer"==o&&"MSIE8.0"==s||"Microsoft Internet Explorer"==o&&"MSIE9.0"==s?("function"==typeof e&&(n.onreadystatechange=function(){var t=n.readyState;"loaded"!==t&&"complete"!==t||(e.call(callback_x,callback_x),n.onreadystatechange=null)}),i.insertBefore(n)):(i.insertBefore(n,i.firstChild),n.onload=n.onreadystatechange=function(){this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||e.call(callback_x,callback_x),n.onload=n.onreadystatechange=null})}}},t.Timer=function(t){return new e(t)}}(window);